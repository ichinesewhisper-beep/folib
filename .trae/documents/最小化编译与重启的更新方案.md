## 目标
- 后端使用 Air 热重载，保存后端代码或修改前端构建产物（dist）时自动重启服务。
- 后端直接读取 `D:\googlecoding\folib\OpenList-Frontend\dist` 作为静态前端，无需手动拷贝到 `public\dist`。

## 配置步骤
1) 更新站点配置：将 `data/config.json` 的 `dist_dir` 改为绝对路径：
   - `"dist_dir": "D:\\googlecoding\\folib\\OpenList-Frontend\\dist"`
   - 作用：`server/static/static.go` 会用该目录作为静态资源 FS，并从其中读取 `index.html` 与 `assets/` 等。
2) 添加 `.air.toml`（仓库根目录）：
   - 关键点：同时监听 Go 源码与前端 dist 的 `html/css/js` 改动；发生变动时延迟 1s 合并重启，避免一次构建触发多次重启。
   - 示例：
```
root = "."
tmp_dir = "tmp"

[build]
cmd = "go build -o tmp/server.exe ."
bin = "tmp/server.exe"
full_bin = "tmp/server.exe"
delay = 1000
kill_signal = "SIGINT"
kill_timeout = 5000

[log]
time = true

[watch]
include_ext = ["go", "json", "html", "css", "js"]
exclude_dir = [".git", "tmp", "node_modules"]
exclude_regex = ["_test.go"]
```
   - 说明：不排除 `OpenList-Frontend`，这样当你构建前端（写入 dist）时，Air 会检测到 `html/css/js` 变更并重启后端，从而加载最新 `index.html` 与资源。
3) 启动：在仓库根运行 `air -c .air.toml`。

## 使用与验证
- 前端：在 `OpenList-Frontend` 目录构建（例如 `npm run build`），产物写入 `dist` 后 Air 自动重启后端；刷新浏览器即可看到最新前端，无需拷贝。
- 后端：修改 Go 源码保存，Air 自动编译与重启；访问接口验证变更。

## 注意事项
- 若一次构建写入大量文件，Air 可能会连续重启；`delay=1000` 会合并为单次重启，如仍频繁可调至 `1500~2000`。
- 仍可使用前端开发模式（`npm run dev`）提升前端效率；生产环境建议只监听打包产物（dist）。
- 若你未来改为 CDN 发布，改回 `config.json` 的 `cdn` 字段并清空 `dist_dir` 即可切换至 CDN 模式。

## 执行
确认后我将：
- 更新 `data/config.json` 的 `dist_dir` 为上述绝对路径；
- 在仓库根新增 `.air.toml`；
- 提供启动与验证指令，并根据你的反馈微调监听策略。